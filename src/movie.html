{% extends "base.html" %}

{% block title %}{{media_info.name}} ({{media_info.year}}) - Movie Details{% endblock title %}

{% block content %}
<div class="media-details">
    <div class="media-header">
        <h1>{{media_info.name}} ({{media_info.year}})</h1>
        <a href="index.html" class="back-link">&larr; Back to Movies</a>
    </div>
    <div class="media-content">
        <div class="media-poster">
            <a href="{{media_ref}}" class="poster-link">
                <img src="{{media_info.poster_url}}" alt="{{media_info.name}} Poster" onerror="this.src='https://via.placeholder.com/300x450.png?text=No+Poster'">
                <div class="play-overlay">
                    <span class="play-button">&#9654; Play Movie</span>
                </div>
            </a>
        </div>
        <div class="media-info-details">
            <div class="metadata">
                <div class="media-header-details">
                    <div class="media-header-row">
                        <div class="rating-badge">{{media_info.rated}}</div>
                        <span>{{media_info.runtime}}</span>
                        <span class="released-label">Released: {{media_info.released}}</span>
                        <div class="imdb-rating"><a href="{{media_info.info_url}}" target="_blank"><span class="imdb-logo">IMDb</span> {{media_info.imdb_rating}}/10</a></div>
                        {% if media_info.rotten_tomatoes_rating %}
                        <div class="rt-rating">
                            <span class="rt-logo">
                                <!-- SVG omitted for brevity -->
                            </span>
                            {{media_info.rotten_tomatoes_rating}}
                        </div>
                        {% endif %}
                    </div>
                </div>
                <div class="genre-tags">
                    <span class="genre-tag">{{media_info.genre}}</span>
                </div>
                <h2>About the Movie</h2>
                <p class="plot">{{media_info.plot}}</p>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="label">Director</span>
                        <span class="value">{{media_info.director}}</span>
                    </div>
                    <div class="info-item full-width">
                        <span class="label">Cast</span>
                        <div class="cast-list">
                            <span class="actor">{{media_info.actors}}</span>
                        </div>
                    </div>
                    <div class="info-item">
                        <span class="label">Language</span>
                        <span class="value">{{media_info.language}}</span>
                    </div>
                </div>
            </div>
            <div class="watch-controls">
                <a href="{{media_ref}}" class="play-button-large">Play Movie</a>
                <div class="cast-container">
                    <google-cast-launcher></google-cast-launcher>
                    <div class="cast-status" id="state"></div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="media.js"></script>
{% endblock content %}